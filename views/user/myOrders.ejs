<link rel="stylesheet" href="./css/order.css">
<%- include('../../views/partials/user/header') %>

<div class="container mx-auto px-6 py-12">
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Sidebar -->
        <div class="bg-white p-6 rounded-lg shadow-md orders-container">
            <ul class="space-y-2">
              <li><a href="#" class="block py-2 px-4 rounded hover:bg-gray-200">Gautham</a></li>
              <li><a href="#" class="font-semibold s1 block py-2 px-4 rounded hover:bg-gray-200">My Orders</a></li>
              <li><a href="#" class="block py-2 px-4 rounded hover:bg-gray-200">Manage Address</a></li>
              <li><a href="#" class="block py-2 px-4 rounded hover:bg-gray-200">Favorites</a></li>
              <li><a href="#" class="block py-2 px-4 rounded hover:bg-gray-200">Wallet</a></li>
            </ul>
            <button class="absolute bottom-28  w-100% bg-gray-800 text-white px-14 py-2 rounded-md hover:bg-gray-700">Logout</button>
          </div>
        
        <!-- Orders Section -->
        <div class="col-span-2 orders-container p-6 rounded-lg shadow-md profile-card">
            <h2 class="text-xl font-semibold mb-4">Manage Your Orders</h2>
            
            <div class="mb-4">
                <input type="text" class="border p-2 w-3/4 rounded-md" placeholder="Search your order using name, order ID, Amount">
                <button class="bg-gray-800 text-white px-4 py-2 rounded-md ml-2 hover:bg-gray-700">Search</button>
            </div>
            
            <!-- Orders List with Scroll -->
            <div class="h-96 overflow-y-auto border rounded-lg p-4 orders-container1" id="ordersContainer">
                <!-- Orders will be dynamically added here -->
            </div>
        </div>
    </div>
</div>

<%- include('../../views/partials/user/footer') %>

<script>
    // Sample Orders Data (Replace with dynamic data fetching logic)
    const orders = [
        { id: 1, date: "21-03-2025", price: "1,20,000",name:"Lava Bed" ,status: "ORDERED", image: "./images/item1.jpg" },
        { id: 2, date: "22-03-2025", price: "1,28,000", status: "ORDERED", image: "./images/item2.jpg" },
        { id: 3, date: "22-03-2025", price: "18,000", status: "RETURNED", image: "./images/item3.jpg" },
        { id: 1, date: "21-03-2025", price: "1,20,000", status: "ORDERED", image: "./images/item1.jpg" },
        { id: 2, date: "22-03-2025", price: "1,28,000", status: "ORDERED", image: "./images/item2.jpg" },
        { id: 3, date: "22-03-2025", price: "18,000", status: "RETURNED", image: "./images/item3.jpg" },
        { id: 1, date: "21-03-2025", price: "1,20,000", status: "ORDERED", image: "./images/item1.jpg" },
        { id: 2, date: "22-03-2025", price: "1,28,000", status: "ORDERED", image: "./images/item2.jpg" },
        { id: 3, date: "22-03-2025", price: "18,000", status: "RETURNED", image: "./images/item3.jpg" },
        { id: 1, date: "21-03-2025", price: "1,20,000", status: "ORDERED", image: "./images/item1.jpg" },
        { id: 2, date: "22-03-2025", price: "1,28,000", status: "ORDERED", image: "./images/item2.jpg" },
        { id: 3, date: "22-03-2025", price: "18,000", status: "RETURNED", image: "./images/item3.jpg" }
    ];

    function loadOrders() {
        const container = document.getElementById("ordersContainer");
        container.innerHTML = "";

        orders.forEach(order => {
            const orderDiv = document.createElement("orderdetials_div");
            orderDiv.classList.add("flex", "items-center", "justify-between", "border-b", "py-4",);
            
            orderDiv.innerHTML = `
                <div class="flex items-center space-x-4">
                    <img src="${order.image}" alt="Order Image" class="w-16 h-16 rounded-md">
                    <div>
                        <p class="text-lg font-semibold">Order #${order.id}</p>
                        <p class="text-gray-500">${order.date}</p>
                    </div>
                </div>
                <div class="text-centre">
                    <p class="text-lg font-semibold"> ${order.name}</p>
                </div>
                <div class="text-right">
                    <p class="text-lg font-semibold">â‚¹ ${order.price}</p>
                    <p class="${order.status === 'ORDERED' ? 'text-green-500' : 'text-red-500'} font-semibold">${order.status}</p>
                </div>
            `;
            container.appendChild(orderDiv);
        });
    }

    document.addEventListener("DOMContentLoaded", loadOrders);
</script>
